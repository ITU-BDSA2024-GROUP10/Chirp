@page
@model Chirp.Web.Pages.AboutMe

@{
    ViewData["Title"] = "Chirp!";
    Layout = "Shared/_Layout";
}

<!DOCTYPE html>

<html>
<head>
    <title></title>
</head>
<body>
<div>
    <h2>Name: @Model.Author!.UserName</h2>
    <h3>Email: @Model.Author.Email</h3>
    @if (Model.Cheeps.Count == 1)
    {
        <h4>You have Cheep'd: @Model.Cheeps.Count time</h4>
    }
    else
    {
        <h4>You have Cheep'd: @Model.Cheeps.Count times</h4>
    }
    @if (ShowModal)
    {
    <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1000; display: flex; justify-content: center; align-items: center;">
        <div style="background-color: white; padding: 20px; border-radius: 5px; text-align: center; min-width: 300px;">
            <p>Are you sure you want to delete your account? This action cannot be undone.</p>
            <button @onclick="Cancel">Cancel</button>
            <button @onclick="ConfirmDelete">Yes, Delete</button>
        </div>
    </div>
    }
    <form method="post" asp-page="/AboutMe" >
        <button type="submit" name="button">Forget Me</button> 
    </form>
    
    
    @await Component.InvokeAsync("CheepList", new {cheeps = Model.Cheeps, targetPage = "/AboutMe"})
</div>
</body>
</html>